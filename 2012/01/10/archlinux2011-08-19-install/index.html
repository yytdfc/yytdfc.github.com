<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> archlinux2011.08.19安装日志 · Votec</title><meta name="description" content="archlinux2011.08.19安装日志 - ChenFu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://votec.top/atom.xml" title="Votec"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/images/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="https://github.com/yytdfc" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">archlinux2011.08.19安装日志</h1><div class="post-info">Jan 10, 2012<full_date item.date ll>&#8853 <span id="busuanzi_container_page_pv">Viewed<span id="busuanzi_value_page_pv"></span> times</span></full_date></div><div class="post-content"><p><strong>时隔多年，翻出原来自己的archlinux安装日志，这应该是自己最早的技术博客了吧，居然还用的和markdown一样的格式，吼哈哈~ (2016-10-23)</strong></p>
<p>费了一整天安装好,虽然以前有装过,但2011.08.19有些小不同,写下日志以备后用,想尝试arch的同学可以参考,能力有限,多批评指正</p>
<a id="more"></a>
<h2 id="P-S"><a href="#P-S" class="headerlink" title="P.S."></a>P.S.</h2><ol>
<li><p>此版本没有ifconfig命令,用ip addr查看网络,配置起来略费劲.</p>
</li>
<li><p>ibus1.4貌似有问题,无法选择输入法,官方解决方案ibus_googlepinyin和重新编译均不起作用,用scim取代.<a href="http://forum.ubuntu.org.cn/viewtopic.php?f=155&amp;t=346639" target="_blank" rel="external">见</a></p>
</li>
<li><p>由libqq-svn-195编译的pidgin qq试用体验一般,还是用web qq</p>
</li>
<li><p>此版本好像本身存在bug,pacman -Syu 报错,需先pacman -Sf filesystem后再Syu,<a href="https://www.archlinux.org/news/filesystem-upgrade-manual-intervention-required/" target="_blank" rel="external">官方说明见</a></p>
</li>
</ol>
<h2 id="安装基本系统-arch-setup"><a href="#安装基本系统-arch-setup" class="headerlink" title="安装基本系统/arch/setup"></a>安装基本系统/arch/setup</h2><h3 id="编辑-etc-rc-conf"><a href="#编辑-etc-rc-conf" class="headerlink" title="编辑/etc/rc.conf"></a>编辑/etc/rc.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">MODULES=(broadcoom)</div><div class="line">HOSTNAME=<span class="string">"FC"</span></div><div class="line">interface=eth0</div><div class="line">gateway=192.168.0.1</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-locale-gen"><a href="#编辑-etc-locale-gen" class="headerlink" title="编辑/etc/locale.gen"></a>编辑/etc/locale.gen</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">zh_CN.GB18030 GB18030</div><div class="line">zh_CN.GBK GBK</div><div class="line">zh_CN.UTF-8 UTF-8</div><div class="line">zh_CN GB2312</div></pre></td></tr></table></figure>
<h2 id="配置pacman"><a href="#配置pacman" class="headerlink" title="配置pacman"></a>配置pacman</h2><h3 id="编辑-etc-pacman-d-mirrorlist"><a href="#编辑-etc-pacman-d-mirrorlist" class="headerlink" title="编辑/etc/pacman.d/mirrorlist"></a>编辑/etc/pacman.d/mirrorlist</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Server = http://mirrors.163.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pacman -Syu</div></pre></td></tr></table></figure>
<h2 id="添加用户-sudo"><a href="#添加用户-sudo" class="headerlink" title="添加用户 sudo"></a>添加用户 sudo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pacman -S sudo</div><div class="line">adduser <span class="built_in">fc</span></div><div class="line">visudo</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">fc</span> ALL=(ALL) ALL</div></pre></td></tr></table></figure>
<h2 id="安装X"><a href="#安装X" class="headerlink" title="安装X"></a>安装X</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pacman -S xorg-server xorg-utils xorg-server-utils xorg-xinit</div><div class="line">pacman -S nvidia nvidia-xconfig</div></pre></td></tr></table></figure>
<h2 id="安装kde"><a href="#安装kde" class="headerlink" title="安装kde"></a>安装kde</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pacman -S kdebase phonon phonon-gstreamer kde-l10n-zh_cn kdeplasma-applets-networkmanagement kdemultimedia-kmix oxygen-gtk gtk-engine-murrine gtk-theme-switch2 wqy-zenhei networkmanager</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-rc-conf-1"><a href="#编辑-etc-rc-conf-1" class="headerlink" title="编辑/etc/rc.conf"></a>编辑/etc/rc.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DAEMONS=(hwclock syslog-ng dbus networkmanager !network netfs crond)</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-inittab"><a href="#编辑-etc-inittab" class="headerlink" title="编辑/etc/inittab"></a>编辑/etc/inittab</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 注释掉：</span></div><div class="line"><span class="comment"># id:3:initdefault:</span></div><div class="line"><span class="comment"># x:5:respawn:/usr/bin/xdm -nodaemon</span></div><div class="line"></div><div class="line"><span class="comment"># 然后取消注释：</span></div><div class="line">id:5:initdefault:</div><div class="line">x:5:respawn:/usr/bin/kdm -nodaemon</div></pre></td></tr></table></figure>
<h3 id="重启进入kde"><a href="#重启进入kde" class="headerlink" title="重启进入kde"></a>重启进入kde</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gtk-theme-switch2 <span class="comment">#修改主题</span></div></pre></td></tr></table></figure>
<h3 id="电源cpu管理"><a href="#电源cpu管理" class="headerlink" title="电源cpu管理"></a>电源cpu管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pacman -S cpufrequtils acpi acpid</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-rc-conf-2"><a href="#编辑-etc-rc-conf-2" class="headerlink" title="编辑/etc/rc.conf"></a>编辑/etc/rc.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">MODULES=(acpi-cpufreq cpufreq_ondemand broadcom)</div><div class="line">DAEMONS=(acpi hwclock syslog-ng dbus networkmanager !network netfs crond cpufreq)</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-rc-d-cpufreq"><a href="#编辑-etc-rc-d-cpufreq" class="headerlink" title="编辑/etc/rc.d/cpufreq"></a>编辑/etc/rc.d/cpufreq</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">governor=<span class="string">"ondemand"</span></div><div class="line">min_freq=<span class="string">"1.20GHz"</span></div><div class="line">max_freq=<span class="string">"2.27GHz"</span></div></pre></td></tr></table></figure>
<h3 id="配置声卡"><a href="#配置声卡" class="headerlink" title="配置声卡"></a>配置声卡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pacman -S alsa alsa-utils alsa-oss</div><div class="line">alsamixer  <span class="comment"># M取消静音通道</span></div><div class="line">gpasswd -a <span class="built_in">fc</span> audio</div></pre></td></tr></table></figure>
<h2 id="安装AUR"><a href="#安装AUR" class="headerlink" title="安装AUR"></a>安装AUR</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pacman -S base-devel</div></pre></td></tr></table></figure>
<h2 id="安装yaourt"><a href="#安装yaourt" class="headerlink" title="安装yaourt"></a>安装yaourt</h2><h3 id="从AUR下载yaourt-tar-gz"><a href="#从AUR下载yaourt-tar-gz" class="headerlink" title="从AUR下载yaourt.tar.gz"></a>从AUR下载yaourt.tar.gz</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tar zxvf yaourt.tar.gz</div><div class="line"><span class="built_in">cd</span> yaourt</div><div class="line">makepkg -s</div><div class="line">pacman -U yaourt-1.0.1-1-any.pkg.tar.xz</div><div class="line">yaourt -Sy</div></pre></td></tr></table></figure>
<h3 id="安装scim-bridge"><a href="#安装scim-bridge" class="headerlink" title="安装scim-bridge"></a>安装scim-bridge</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pacman -S scim scim-pinyin</div><div class="line">yaourt -S scim-bridge</div></pre></td></tr></table></figure>
<h3 id="编辑-xinitrc"><a href="#编辑-xinitrc" class="headerlink" title="编辑~/.xinitrc"></a>编辑~/.xinitrc</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> LC_CTYPE=<span class="string">"zh_CN.UTF-8"</span></div><div class="line"><span class="built_in">export</span> XMODIFIERS=@im=SCIM</div><div class="line"><span class="built_in">export</span> GTK_IM_MODULE=<span class="string">"scim-bridge"</span></div><div class="line"><span class="built_in">export</span> QT_IM_MODULE=<span class="string">"scim-bridge"</span></div><div class="line">scim -d</div></pre></td></tr></table></figure>
<h3 id="编辑-xprofile"><a href="#编辑-xprofile" class="headerlink" title="编辑~/.xprofile"></a>编辑~/.xprofile</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> LC_CTYPE=<span class="string">"zh_CN.UTF-8"</span></div><div class="line"><span class="built_in">export</span> XMODIFIERS=@im=SCIM</div><div class="line"><span class="built_in">export</span> GTK_IM_MODULE=<span class="string">"scim-bridge"</span></div><div class="line"><span class="built_in">export</span> QT_IM_MODULE=<span class="string">"scim-bridge"</span></div><div class="line">scim -d</div></pre></td></tr></table></figure>
<h3 id="重启生效"><a href="#重启生效" class="headerlink" title="重启生效"></a>重启生效</h3><h2 id="挂载ntfs分区"><a href="#挂载ntfs分区" class="headerlink" title="挂载ntfs分区"></a>挂载ntfs分区</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pacman -S ntfs-3g</div><div class="line">mkdir /media/Win</div><div class="line">mkdir /media/Data</div></pre></td></tr></table></figure>
<h3 id="编辑-etc-fstab"><a href="#编辑-etc-fstab" class="headerlink" title="编辑/etc/fstab"></a>编辑/etc/fstab</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/dev/sda2 /media/Win ntfs-3g users,uid=1000,gid=100,fmask=0113,dmask=0002 0 0</div><div class="line">/dev/sda5 /media/Data ntfs-3g users,uid=1000,gid=100,fmask=0113,dmask=0002 0 0</div></pre></td></tr></table></figure>
<h2 id="安装其他程序"><a href="#安装其他程序" class="headerlink" title="安装其他程序"></a>安装其他程序</h2><ul>
<li>gvim</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pacman -S gvim</div></pre></td></tr></table></figure>
<p>编辑/etc/vimrc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">set</span> encoding=utf-8</div><div class="line"><span class="built_in">set</span> fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1</div></pre></td></tr></table></figure>
<ul>
<li>其余</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">pacman -S libreoffice libreoffice-zh-CN</div><div class="line">yaourt -S google-chrome</div><div class="line">pacman -S flashplugin</div><div class="line">pacman -S smplayer</div><div class="line">pacman -S amarok gstramer-plugins</div><div class="line">pacman -S xmms gimp evince</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2012/06/27/archlinux-update/" class="prev">Prev</a></div><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script><script>var cloudTieConfig = {url: document.location.href,sourceId: "2012/01/10/archlinux2011-08-19-install/",productKey: "b710aea8146b4b82be4291d960552145",target: "cloud-tie-wrapper"};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);</script><div class="copyright"><p>© 2016~2017 <a href="http://votec.top">ChenFu</a>  &#8225  Site viewed <span id="busuanzi_value_site_pv"></span> times.</span></p><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> + <a href="https://github.com/yytdfc/hexo-theme-apollo-plus" target="_blank">apollo</a> <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_pv"></p></div></footer></div><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-100648993-1','auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "https://hm.baidu.com/hm.js?3a1457089b82f026e9a39fbe773531ff";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hm, s);
})();</script><script type="text/javascript" src="http://tajs.qq.com/stats?sId=59104549" charset="UTF-8"></script></body></html>